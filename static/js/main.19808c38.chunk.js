(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{122:function(e,t){},213:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(0),r=n.n(o),s=n(20),i=n.n(s),a=(n(96),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))}),l=n(14),j=n(81),u=n.n(j),b=n(8),d=n(82).connect();function f(){var e=Object(b.f)();return Object(c.jsx)(u.a,{clientId:"392545713863-91sppbihnj638rth8gg7upfvjoug9s98.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(t){console.log("Success:",t),function(t){d.emit("new_google_user",{response:t}),console.log("Sent new google user to server!"),d.emit("login_request",{email:t.profileObj.email}),d.on("login_response",(function(e){console.log(e)})),e.push("/home")}(t)},onFailure:function(e){console.log("FAIL:",e)},cookiePolicy:"single_host_origin"})}var p=n(84),h=n.n(p);function O(){var e=Object(b.f)();return Object(c.jsx)(h.a,{appId:"257908695617151",autoLoad:!1,fields:"name,email,picture",callback:function(t){"unknown"===t.status?console.log("failure:",t):(!function(t){d.emit("new_facebook_user",{response:t}),console.log("Sent new facebook user to server!"),console.log(t.email),d.emit("login_request",{email:t.email}),d.on("login_response",(function(e){console.log(e)})),e.push("/home")}(t),console.log("success:",t))}})}var g=n(85),m=n.n(g);function x(){var e=Object(b.f)();return Object(c.jsx)(m.a,{clientId:"3a9de6a1-f0fa-480b-bed0-7856d8079de1",authCallback:function(t,n){void 0===t?(console.log("Response:",n),function(t){d.emit("new_microsoft_user",{response:t}),console.log("Sent new Microsoft user to server!"),d.emit("login_request",{email:t.account.userName}),d.on("login_response",(function(e){console.log(e)})),e.push("/home")}(n)):console.log(t)},buttonTheme:"light_short",withUserData:"true",graphScopes:["profile"]})}n(68);var v=n(218),_=n(219),y=n(86);function S(){return Object(c.jsx)("div",{children:Object(c.jsx)(v.a,{style:{textAlign:"center"},children:Object(c.jsxs)(_.a,{style:{justifyContent:"center",alignItems:"center"},"aria-label":"Navigation bar",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)(y.a,{variant:"primary",children:"Landing"})}),Object(c.jsx)(l.b,{to:"/home",children:Object(c.jsx)(y.a,{variant:"primary",children:"Dashboard"})}),Object(c.jsx)(l.b,{to:"/project",children:Object(c.jsx)(y.a,{variant:"primary",children:"Project"})})]})})})}var w=n(87),E=n(220),C=n(88);var I=n(11),P=n(226),k=n(224),L=n(225),R=n(28),T=n.n(R);function D(e){var t=e.projects,n=Object(o.useRef)(null),r=Object(o.useState)(!1),s=Object(I.a)(r,2),i=s[0],a=s[1],l=Object(o.useState)(""),j=Object(I.a)(l,2),u=j[0],b=j[1];function f(e){a(!0),b(e)}return console.log(t),Object(c.jsxs)(v.a,{children:[Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.5%"},children:Object(c.jsxs)(k.a,{show:i,style:{width:"40%"},variant:"danger",onClose:function(){return a(!1)},dismissible:!0,children:[Object(c.jsx)(k.a.Heading,{children:"Error!"}),Object(c.jsx)("p",{children:u})]})}),Object(c.jsx)(E.a,{children:Object(c.jsx)(C.a,{children:Object(c.jsxs)(L.a,{inline:!0,onSubmit:function(e){var c=n.current.value;console.log("PROJECT: "),console.log(c),console.log("PROJECTS: "),console.log(t);var o=Object.values(t).map((function(e){return e.project_name}));console.log(o),T.a.isEmpty(T.a.trim(c))?f("Project name was empty or only whitespace.  Please try again with a valid project name."):o.some((function(e){return c===e}))?f("Project name is taken.  Please try again with a unique project name."):(d.emit("create_project",{project_name:c,socketid:d.id}),console.log("Sent the project ".concat(c," to server!"))),n.current.value="",e.preventDefault()},style:{justifyContent:"center"},children:[Object(c.jsx)(L.a.Group,{controlId:"formProjectInput",children:Object(c.jsx)(L.a.Control,{ref:n,type:"text",placeholder:"Enter new project name"})}),Object(c.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})})})]})}var q=n(221),F=n(223),A=n(222);function G(){var e=Object(b.f)();return Object(c.jsx)(y.a,{variant:"secondary",onClick:function(){d.emit("logout"),e.push("/")},type:"submit",children:"Logout"})}function N(e){var t=e.headerInfo,n=e.badgeInfo,o=e.profilePicture;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(v.a,{children:Object(c.jsxs)(E.a,{noGutters:"true",style:{justifyContent:"center",alignItems:"center",textAlign:"center"},children:[Object(c.jsxs)(C.a,{xs:2.5,children:[Object(c.jsx)("h1",{children:t}),Object(c.jsx)(q.a,{variant:"primary",children:n})]}),Object(c.jsx)(C.a,{xs:2.5,children:Object(c.jsx)(F.a,{id:"dropdown-basic-button",title:Object(c.jsx)(A.a,{src:o,width:"50px",height:"50px",roundedCircle:!0})})}),Object(c.jsx)(C.a,{xs:2.5,children:Object(c.jsx)(G,{})})]})})})}var J=n(52);function U(e){var t=Object(o.useState)([]),n=Object(I.a)(t,2),s=n[0],i=n[1],a=Object(o.useState)([]),l=Object(I.a)(a,2),j=l[0],u=l[1],b=Object(o.useState)(!1),f=Object(I.a)(b,2),p=f[0],h=f[1],O=Object(o.useState)(""),g=Object(I.a)(O,2),m=g[0],x=g[1],_=Object(o.useRef)(null),S=e.usingProject;function w(e){h(!0),x(e)}return r.a.useEffect((function(){d.on("invalid_url",(function(e){console.log("Received projects from server: ".concat(e)),w("Invalid URL: [ ".concat(e.source_link," ]  Please ensure that you have copied the entire URL (including the protocol)"))}))})),r.a.useEffect((function(){d.on("all_sources_server",(function(e){console.log("Received projects from server: ".concat(e)),i(e.source_list),u(e.source_map)}))})),console.log(s),console.log(j),r.a.useEffect((function(){d.emit("get_all_sources",{project_name:S})}),[]),r.a.useEffect((function(){d.on("all_sources",(function(e){console.log("Received projects from server: ".concat(e)),i(e.source_list),u(e.source_map)}))})),console.log(s),Object(c.jsxs)(v.a,{style:{textAlign:"center"},children:[Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.5%"},children:Object(c.jsxs)(k.a,{show:p,style:{width:"40%"},variant:"danger",onClose:function(){return h(!1)},dismissible:!0,children:[Object(c.jsx)(k.a.Heading,{children:"Error!"}),Object(c.jsx)("p",{children:m})]})}),Object(c.jsxs)(E.a,{xs:1,children:[Object(c.jsx)(C.a,{children:Object(c.jsx)("h3",{children:S})}),Object(c.jsx)(P.a,{style:{paddingTop:"2%",paddingBottom:"2%",alignItems:"center"},children:Object.entries(j).map((function(e){var t=Object(I.a)(e,2),n=t[0],o=t[1];return Object(c.jsxs)(P.a.Item,{children:[o,Object(c.jsx)(y.a,{onClick:function(){return e=n,t=S,console.log("DELETE"),console.log(e),void d.emit("delete_source",{source_id:e,project_name:t});var e,t},variant:"danger",style:{float:"right",marginLeft:"20px"},children:Object(c.jsx)(J.a,{})})]},n)}))}),Object(c.jsx)(C.a,{children:Object(c.jsxs)(L.a,{inline:!0,onSubmit:function(e){var t=_.current.value;console.log(t),console.log("SOURCES",s),T.a.isEmpty(T.a.trim(t))?w("Source name was empty or only whitespace. Please try again with a valid project name."):s.some((function(e){return t===e}))?w("Source name is taken. Please try again with a unique project name."):(console.log("Got source link: ".concat(t)),d.emit("add_source_to_project",{project_name:S,source_link:t}),_.current.value=""),e.preventDefault()},style:{justifyContent:"center"},children:[Object(c.jsxs)(L.a.Group,{id:"name_input",children:[Object(c.jsx)(L.a.Label,{children:"Source"}),Object(c.jsx)(L.a.Control,{ref:_,type:"text",placeholder:"Enter Source name"})]}),Object(c.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})]})}i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(b.c,{children:[Object(c.jsx)(b.a,{path:"/",component:function(){return Object(c.jsxs)("div",{className:"Landing",children:[Object(c.jsx)(w.a,{fluid:!0,children:Object(c.jsxs)(v.a,{children:[Object(c.jsx)("h1",{children:"ResearchPal"}),Object(c.jsx)("p",{children:"The simple research organization tool, designed by researchers for researchers"})]})}),Object(c.jsx)("h2",{style:{textAlign:"center"},children:"Log in below:"}),Object(c.jsx)(v.a,{children:Object(c.jsxs)(E.a,{noGutters:"true",style:{justifyContent:"center",alignItems:"center"},children:[Object(c.jsx)(C.a,{lg:"2",children:Object(c.jsx)(f,{})}),Object(c.jsx)(C.a,{lg:"2",children:Object(c.jsx)(x,{})}),Object(c.jsx)(C.a,{lg:"2",children:Object(c.jsx)(l.b,{to:"/home",children:Object(c.jsx)(O,{})})})]})}),Object(c.jsx)(S,{})]})},exact:!0}),Object(c.jsx)(b.a,{path:"/home",component:function(){var e=o.useState(0),t=Object(I.a)(e,2),n=t[0],r=t[1],s=o.useState(0),i=Object(I.a)(s,2),a=i[0],l=i[1],j=o.useState(0),u=Object(I.a)(j,2),b=u[0],f=u[1];return o.useEffect((function(){d.emit("request_user_info"),d.on("user_info",(function(e){console.log("Received user info from server: ".concat(e)),l(e),console.log(e.profile_picture);var t="static/profile-blank.jpg";null!==e.profile_picture&&(t=e.profile_picture),f(t)}))}),[]),o.useEffect((function(){d.on("all_projects",(function(e){console.log("Received projects from server: ".concat(e)),r(e)}))})),Object(c.jsx)(v.a,{children:Object(c.jsxs)(E.a,{xs:1,children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(N,{headerInfo:"Dashboard",badgeInfo:a.email,profilePicture:b})}),Object(c.jsx)(C.a,{children:Object(c.jsx)(S,{})}),Object(c.jsx)(C.a,{children:Object(c.jsx)(D,{projects:n})}),Object(c.jsx)(P.a,{style:{paddingTop:"2%",alignItems:"center"},children:Object.keys(n).map((function(e,t){return Object(c.jsxs)(P.a.Item,{style:{width:"50%"},children:[n[e].project_name,Object(c.jsx)(y.a,{variant:"danger",onClick:function(){return function(e){console.log("Deleting ".concat(e)),d.emit("delete_project",{project_name:e})}(n[e].project_name)},style:{float:"right"},children:"DELETE"}),Object(c.jsx)(y.a,{variant:"success",onClick:function(){return function(e){console.log("Getting information about ".concat(e)),d.emit("select_project",{project_name:e})}(n[e].project_name)},style:{float:"right"},children:"SELECT"})]})}))})]})})}}),Object(c.jsx)(b.a,{path:"/project",component:function(){var e=o.useState(""),t=Object(I.a)(e,2),n=t[0],r=t[1],s=o.useState(0),i=Object(I.a)(s,2),a=i[0],l=i[1];return o.useEffect((function(){d.emit("request_user_info"),d.on("user_info",(function(e){console.log("Received user info from server: ".concat(e)),console.log(e.profile_picture);var t="static/profile-blank.jpg";null!==e.profile_picture&&(t=e.profile_picture),l(t)}))}),[]),o.useEffect((function(){d.emit("request_selected_project"),d.on("give_project_name",(function(e){console.log(e.project_name),r(e.project_name),console.log("project name is ".concat(n))}))}),[]),Object(c.jsxs)("div",{className:"Project",children:[Object(c.jsx)(N,{headerInfo:"Project",badgeInfo:n,profilePicture:a}),Object(c.jsx)("br",{}),Object(c.jsx)(S,{}),""!==n&&null!==n?Object(c.jsx)(U,{usingProject:n}):Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"d-flex justify-content-center",children:"A project is not selected, please select a project from the Dashboard."})})]})}})]})})})}),document.getElementById("root")),a()},96:function(e,t,n){}},[[213,1,2]]]);
//# sourceMappingURL=main.19808c38.chunk.js.map